<html>
<head>
    <title>五行</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@200..900&display=swap" rel="stylesheet">
    <style>
	    .btn-style-oriental {
            color: #8E2800;            
            padding: 12px 25px;       
            font-size: 19px;
			font-family: "Noto Serif TC", serif;
			font-weight: 700;
		}
        #time {
            color: #8E2800;       
            font-size: 17px;
			font-family: "Noto Serif TC", serif;
			font-weight: 700;
        }
        #board {
            display: grid;
            grid: repeat(4, 90px) / repeat(5, 90px); 
        }
        .card {
            width:80px;
        }
    </style>
    <script>
        var timer, seconds = 0;
        function pickCard() {
            var card=event.target;
            if(p1<0) {
                p1=card;
                card.src=`五行/${card.num}.png`;
            } else if(p2<0) {
                p2=card;
                card.src=`五行/${card.num}.png`;
                if(p1.num == p2.num) {
                    pairs++;
                    if(pairs<10) {
                        p1=-1; p2=-1;
                    } else {
                        clearInterval(timer);
                        alert(`五行歸位，遊戲結束`);
                    }
                } else {
                    setTimeout(()=>{
                        p1.src=`五行/框.png`;
                        p2.src=`五行/框.png`;
                        p1=-1; p2=-1;
                    },1000);
                }
            }
        }

        function gameStart() {
            clearInterval(timer); seconds = 0; document.getElementById("game_time").innerText = 0;
            pairs=0;
            p1=-1; p2=-1;
            var cards=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5];
            cards.sort(()=>{return Math.random()-0.5;});

            var board=document.getElementById("board");
            Array.from(board.children).forEach((a)=>{board.removeChild(a);});

            cards.forEach((n)=>{
                var a=document.createElement("img");
                a.className="card";
                a.src=`五行/${n}.png`;
                a.num=n;
                a.addEventListener("click",pickCard);
                board.appendChild(a);
            });

            setTimeout(()=>{
                Array.from(document.getElementsByClassName("card")).forEach((a)=>{
                    a.src="五行/框.png";
                });
                timer = setInterval(function() {
                seconds++;
                document.getElementById("game_time").innerText = seconds;
                }, 1000);
            },3000);
        }
    </script>
</head>
<body>
    <div id="board"></div>
	<button class="btn-style-oriental" onclick="gameStart();">遊戲啟動</button>
    <div id="time">
        <span>時間：<span id="game_time">0</span> 秒</span>
    </div>
</body>
</html>
<!--
    金木水火土
-->